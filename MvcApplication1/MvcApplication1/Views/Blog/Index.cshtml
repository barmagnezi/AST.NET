@model MvcApplication1.Models.helperBlogController

@{
    ViewBag.Title = "Index2";
}

<<h1>The posts:</h1>


@foreach (var item in Model.PostComments)
{
    <section style="padding:12px">
        <article class=" blogpost">
            <header>
                <h2>@item.post.title</h2>
                <p>
                    <h3>Posted on (<time datetime="2009-06-29T23:31+01:00">@item.post.date</time>) by <a href="@item.post.urlAuthor">@item.post.author</a></h3>
                    <h3>Number of comments:@(item.numberOfCom)</h3>
                </p>
            </header>
            <div>
                <p>@item.post.body</p>
                <img src="@item.post.image" />
                <video controls="controls">
                    <source src=@item.post.video type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            </div>
        </article>
    </section>
    if (item.comments != null)
    {
        <section id="comments">
            <h3 style="padding-left:25px;padding-top:10px">comments:</h3>
            <!--all the comments-->
            @foreach (var comment in item.comments)
            {
                <article style="padding-left:30px">
                    <header>
                        @comment.title  by:<a href="@comment.urlAuthor">@comment.author</a>
                    </header>
                    <p>@comment.body</p>
                </article>
            }
        </section>
    }
    <form action="Blog/addComment" style="padding-left:25px;padding-top:10px" id=" comments">
        <h3>Add comment:</h3><br>
        author: <input type="text" name="author"><br>
        urlAuthor: <input type="text" name="urlAuthor"><br>
        title: <input type="text" name="title"><br>
        body: <input type="text" name="body"><br>
        postId: <input type="text" name="postId" value="@item.post.id" readonly><br>
        <input type="submit" value="Submit">
    </form>
}



